<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>TERALINK Hacking Lab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="hacking.css" />
</head>
<body>
<div class="shell">
  <div class="topbar">
    <div style="display:flex;align-items:center;gap:10px;">
      <div class="dots">
        <span class="dot red"></span>
        <span class="dot yellow"></span>
        <span class="dot green"></span>
      </div>
      <div class="top-title">teralink.store / hacking · toolkit</div>
    </div>
    <div class="pill">KR-only · VPN-aware · readonly tools</div>
  </div>

  <div class="layout">
    <!-- 사이드바 -->
    <aside class="sidebar">
      <div class="nav-title">TOOLS</div>
      <div class="tool-list">
        <div class="tool-item active" data-target="hash">
          <span>① Hash / Base64</span>
          <span class="badge">crypto</span>
        </div>
        <div class="tool-item" data-target="ip">
          <span>② IP · DNS</span>
          <span class="badge">network</span>
        </div>
        <div class="tool-item" data-target="json">
          <span>③ JSON / URL</span>
          <span class="badge">dev</span>
        </div>
        <div class="tool-item" data-target="qr">
          <span>④ QR 생성기</span>
          <span class="badge">utility</span>
        </div>
        <div class="tool-item" data-target="webhook">
          <span>⑤ Webhook Sender</span>
          <span class="badge">discord</span>
        </div>
        <div class="tool-item" data-target="hardurl">
          <span>⑥ Hard URL Encode</span>
          <span class="badge">encode</span>
        </div>
      </div>

      <div class="nav-title">INFO</div>
      <p class="info-text">
        이 페이지는 <strong>클라이언트 사이드</strong>에서만 동작합니다.<br/>
        (IP/DNS 조회는 공개 API 사용)
      </p>
    </aside>

    <!-- 메인 -->
    <main class="main">
      <!-- ① 해시 / Base64 -->
      <section id="sec-hash" class="section active">
        <h2>① Hash &amp; Base64</h2>
        <p class="subtitle">텍스트를 MD5 / SHA-256 해시로 변환하거나 Base64 인코딩·디코딩합니다.</p>

        <div class="card">
          <h3>입력 텍스트</h3>
          <textarea id="hash-input" class="large" placeholder="여기에 텍스트를 입력하세요."></textarea>
          <div class="row">
            <button onclick="makeHash('md5')">MD5 생성</button>
            <button onclick="makeHash('sha256')">SHA-256 생성</button>
            <button class="secondary" onclick="copyOutput('hash-output')">해시 결과 복사</button>
          </div>
          <div class="mini-label">※ SHA-256은 Web Crypto API 사용, MD5는 JS 라이브러리 사용.</div>
          <div id="hash-output" class="output" style="margin-top:8px;"></div>
        </div>

        <div class="grid-2" style="margin-top:12px;">
          <div class="card">
            <h3>Base64 인코딩</h3>
            <textarea id="b64-plain" class="small" placeholder="일반 텍스트"></textarea>
            <div class="row">
              <button onclick="encodeB64()">Base64로 인코딩</button>
              <button class="secondary" onclick="copyOutput('b64-encoded')">복사</button>
            </div>
            <div id="b64-encoded" class="output" style="margin-top:6px;"></div>
          </div>
          <div class="card">
            <h3>Base64 디코딩</h3>
            <textarea id="b64-input" class="small" placeholder="Base64 문자열"></textarea>
            <div class="row">
              <button onclick="decodeB64()">일반 텍스트로 디코딩</button>
              <button class="secondary" onclick="copyOutput('b64-decoded')">복사</button>
            </div>
            <div id="b64-decoded" class="output" style="margin-top:6px;"></div>
          </div>
        </div>
      </section>

      <!-- ② IP / DNS -->
      <section id="sec-ip" class="section">
        <h2>② IP &amp; DNS</h2>
        <p class="subtitle">현재 접속 IP 정보와 간단한 DNS 조회 도구입니다.</p>

        <div class="grid-2">
          <div class="card">
            <h3>내 IP 정보</h3>
            <div class="row">
              <button onclick="fetchIpInfo()">IP 정보 조회</button>
            </div>
            <div id="ip-output" class="output" style="margin-top:6px;"></div>
            <div class="mini-label">※ ipify + ipapi 등을 사용합니다. 응답 속도는 API 상황에 따라 달라질 수 있습니다.</div>
          </div>

          <div class="card">
            <h3>DNS Lookup</h3>
            <label for="dns-domain">도메인</label>
            <input id="dns-domain" placeholder="예: example.com" />
            <label for="dns-type">레코드 타입</label>
            <select id="dns-type">
              <option value="A">A</option>
              <option value="AAAA">AAAA</option>
              <option value="MX">MX</option>
              <option value="TXT">TXT</option>
              <option value="CNAME">CNAME</option>
            </select>
            <div class="row" style="margin-top:8px;">
              <button onclick="lookupDNS()">조회</button>
              <button class="secondary" onclick="copyOutput('dns-output')">결과 복사</button>
            </div>
            <div id="dns-output" class="output" style="margin-top:6px;"></div>
            <div class="mini-label">※ Google DNS(DoH) API 사용: dns.google/resolve</div>
          </div>
        </div>
      </section>

      <!-- ③ JSON / URL -->
      <section id="sec-json" class="section">
        <h2>③ JSON Formatter &amp; URL 인코딩</h2>
        <p class="subtitle">JSON을 포매팅하고, URL 인코딩/디코딩을 수행합니다.</p>

        <div class="grid-2">
          <div class="card">
            <h3>JSON Formatter</h3>
            <textarea id="json-input" class="large" placeholder='{"example": true, "value": 123}'></textarea>
            <div class="row">
              <button onclick="formatJSON()">포매팅</button>
              <button class="secondary" onclick="minifyJSON()">압축(Minify)</button>
              <button class="secondary" onclick="copyOutput('json-output')">결과 복사</button>
            </div>
            <div id="json-status" class="status"></div>
            <div id="json-output" class="output" style="margin-top:6px;"></div>
          </div>

          <div class="card">
            <h3>URL Encode / Decode</h3>
            <label>원본 문자열</label>
            <textarea id="url-input" class="small"></textarea>
            <div class="row">
              <button onclick="encodeURL()">Encode</button>
              <button onclick="decodeURL()">Decode</button>
              <button class="secondary" onclick="copyOutput('url-output')">결과 복사</button>
            </div>
            <div id="url-output" class="output" style="margin-top:6px;"></div>
            <div class="mini-label">
              ※ 표준 URL 인코딩(encodeURIComponent / decodeURIComponent)을 사용합니다.
            </div>
          </div>
        </div>
      </section>

      <!-- ④ QR 코드 -->
      <section id="sec-qr" class="section">
        <h2>④ QR 코드 생성기</h2>
        <p class="subtitle">텍스트나 URL을 QR 코드로 변환합니다.</p>

        <div class="card">
          <h3>QR 내용</h3>
          <textarea id="qr-input" class="small" placeholder="https://teralink.store/"></textarea>
          <div class="row">
            <button onclick="generateQR()">QR 생성</button>
            <button class="secondary" onclick="downloadQR()">PNG로 저장</button>
          </div>
          <canvas id="qr-canvas"></canvas>
        </div>
      </section>

      <!-- ⑤ Webhook Sender -->
      <section id="sec-webhook" class="section">
        <h2>⑤ Discord Webhook Sender</h2>
        <p class="subtitle">테스트용으로 간단한 웹훅 메시지를 전송합니다. (악용 금지)</p>

        <div class="card">
          <label>Webhook URL</label>
          <input id="wh-url" placeholder="https://discord.com/api/webhooks/..." />

          <label style="margin-top:8px;">전송할 메시지</label>
          <textarea id="wh-message" class="small" placeholder="테스트 메시지"></textarea>

          <label style="margin-top:8px;">전송 횟수</label>
          <input id="wh-count" type="number" min="1" value="1" />

          <div class="row" style="margin-top:10px;">
            <button onclick="sendWebhookMessages()">전송</button>
          </div>
          <div id="wh-status" class="status"></div>
        </div>
      </section>

      <!-- ⑥ Hard URL Encode -->
      <section id="sec-hardurl" class="section">
        <h2>⑥ Hard URL Encode / Decode</h2>
        <p class="subtitle">브라우저 주소창에서도 열리는 강력한 URL 난독화 기능입니다. (PATH만 인코딩)</p>

        <div class="card">
          <h3>원본 URL 입력</h3>
          <textarea id="hardurl-input" class="small" placeholder="https://teralink.store/hacking/index.html"></textarea>

          <div class="row">
            <button onclick="hardEncode()">Hard Encode</button>
            <button onclick="hardEncodeDouble()">Hard Encode ×2</button>
            <button class="secondary" onclick="hardDecode()">Decode</button>
            <button class="secondary" onclick="copyOutput('hardurl-output')">복사</button>
          </div>

          <div id="hardurl-output" class="output" style="margin-top:8px;"></div>

          <div class="mini-label">
            ※ 도메인/스킴은 유지하며, PATH만 퍼센트 인코딩합니다.<br>
            ※ 2중 인코딩(Hard Encode ×2)도 브라우저에서 정상 작동합니다.
          </div>
        </div>
      </section>

    </main>
  </div>
</div>

<!-- 외부 라이브러리 -->
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.19.0/js/md5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>

<!-- 메인 스크립트 -->
<script src="hacking.js"></script>
</body>
</html>
